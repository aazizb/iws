@using IWSProject.Content

    @Html.DevExpress().GridView(settings =>
{
    settings.Name = "fiscalYear";

    settings.CallbackRouteValues = new { Controller = "FiscalYear", Action = "GridViewPartialView" };

    //settings.CustomActionRouteValues = new { Controller = "FiscalYear", Action = "CustomGridViewCallback" };

    settings.SettingsEditing.Mode = GridViewEditingMode.PopupEditForm;
    settings.SettingsContextMenu.Enabled = true;

    settings.SettingsContextMenu.RowMenuItemVisibility.DeleteRow = false;
    settings.SettingsContextMenu.RowMenuItemVisibility.EditRow = false;
    settings.SettingsContextMenu.RowMenuItemVisibility.NewRow = false;

    settings.Styles.RowHotTrack.Cursor = "pointer";
    settings.Styles.RowHotTrack.BackColor = System.Drawing.ColorTranslator.FromHtml("#BFDBFF");
    settings.Styles.AlternatingRow.Enabled = DefaultBoolean.True;
    settings.Styles.AlternatingRow.BackColor = System.Drawing.Color.WhiteSmoke;
    settings.Styles.SelectedRow.BackColor = System.Drawing.ColorTranslator.FromHtml("#BFDBFF");
    settings.Styles.FocusedRow.BackColor = System.Drawing.ColorTranslator.FromHtml("#BFDBFF");

    settings.SettingsBehavior.AllowFocusedRow = true;
    settings.SettingsBehavior.ConfirmDelete = true;
    settings.SettingsBehavior.AutoExpandAllGroups = true;
    settings.SettingsBehavior.EnableCustomizationWindow = true;
    settings.SettingsBehavior.EnableRowHotTrack = true;
    settings.SettingsBehavior.AllowSelectByRowClick = false;
    settings.SettingsBehavior.AllowEllipsisInText = true;
    settings.SettingsBehavior.ColumnMoveMode = GridColumnMoveMode.AmongSiblings;
    settings.SettingsResizing.ColumnResizeMode = ColumnResizeMode.NextColumn;
    settings.SettingsResizing.Visualization = ResizingMode.Live;

    //settings.ClientSideEvents.CustomizationWindowCloseUp = "CustomizationWindowCloseUp";
    //settings.ClientSideEvents.SelectionChanged = "OnSelectionChanged";
    //settings.ClientSideEvents.BeginCallback = "OnBeginCallback";
    //settings.ClientSideEvents.EndCallback = "OnEndCallback";

    settings.CommandColumn.Visible = true;
    settings.CommandColumn.ShowEditButton = false;
    settings.CommandColumn.ShowDeleteButton = false;
    settings.CommandColumn.Width = Unit.Percentage(8);
    settings.CommandColumn.ShowNewButtonInHeader = false;

    settings.SettingsCommandButton.NewButton.Image.IconID = IconID.ActionsAdditem16x16;
    settings.SettingsCommandButton.NewButton.Image.ToolTip = IWSLocalResource.btnAddNew;
    settings.SettingsCommandButton.NewButton.Text = " ";

    settings.SettingsCommandButton.EditButton.Image.IconID = IconID.ActionsEditname16x16;
    settings.SettingsCommandButton.EditButton.Image.ToolTip = IWSLocalResource.btnEdit;
    settings.SettingsCommandButton.EditButton.Text = " ";

    settings.SettingsCommandButton.DeleteButton.Image.IconID = IconID.ActionsDeletelist16x16;
    settings.SettingsCommandButton.DeleteButton.Image.ToolTip = IWSLocalResource.btnDelete;
    settings.SettingsCommandButton.DeleteButton.Text = " ";

    settings.CustomJSProperties = (s, e) =>
    {
        MVCxGridView g = (MVCxGridView)s;
        e.Properties["cpClientLayout"] = g.SaveClientLayout();
    };
    settings.ClientLayout = (s, e) =>
    {
        switch (e.LayoutMode)
        {
            case ClientLayoutMode.Loading:
                if (Session["FiscalYearLayout"] != null)
                {
                    e.LayoutData = Session["FiscalYearLayout"].ToString();
                }
                break;
            case ClientLayoutMode.Saving:
                Session["FiscalYearLayout"] = e.LayoutData;
                break;
        }
    };
    settings.KeyFieldName = "Id";

    settings.Width = Unit.Percentage(100);

    settings.ControlStyle.Paddings.Padding = Unit.Pixel(10);
    settings.ControlStyle.Border.BorderWidth = Unit.Pixel(0);
    settings.ControlStyle.BorderBottom.BorderWidth = Unit.Pixel(1);

    settings.SettingsPager.Visible = true;
    settings.SettingsPager.Position = PagerPosition.Bottom;
    settings.SettingsPager.FirstPageButton.Visible = true;
    settings.SettingsPager.LastPageButton.Visible = true;
    settings.SettingsPager.PageSizeItemSettings.Visible = true;

    settings.SettingsPager.PageSize = 19;
    settings.Columns.Add(column =>
    {
        column.FieldName = "AccountId";
        column.Caption = IWSLocalResource.account;
        column.Width = Unit.Percentage(11);
    });
    settings.Columns.Add(column =>
    {
        column.FieldName = "Name";
        column.Caption = IWSLocalResource.name;
        column.Width = Unit.Percentage(38);
    });
    settings.Columns.Add(column =>
    {
        column.FieldName = "Periode";
        column.Caption = IWSLocalResource.periode;
        column.Width = Unit.Percentage(12);
    });
    settings.Columns.Add(column =>
    {
        column.FieldName = "oYear";
        column.Caption = IWSLocalResource.Year;
        column.Width = Unit.Percentage(12);
        column.Visible = false;
    });
    settings.Columns.Add(column =>
    {
        column.FieldName = "oMonth";
        column.Caption = IWSLocalResource.Month;
        column.Width = Unit.Percentage(7);
        column.Visible = false;
    });

    settings.Columns.Add(column =>
    {
        column.FieldName = "Debit";
        column.Caption = IWSLocalResource.debit;
        column.Width = Unit.Percentage(12);
        column.EditorProperties().TextBox(textBox =>
        {
            textBox.DisplayFormatString = "N";
        });
    });
    settings.Columns.Add(column =>
    {
        column.FieldName = "Credit";
        column.Caption = IWSLocalResource.credit;
        column.Width = Unit.Percentage(12);
        column.EditorProperties().TextBox(textBox =>
        {
            textBox.DisplayFormatString = "N";
        });
    });

    settings.Columns.Add(column =>
    {
        column.FieldName = "IDebit";
        column.Caption = IWSLocalResource.idebit;
        column.Width = Unit.Percentage(12);
        column.EditorProperties().TextBox(textBox =>
        {
            textBox.DisplayFormatString = "N";
        });
    });
    settings.Columns.Add(column =>
    {
        column.FieldName = "ICredit";
        column.Caption = IWSLocalResource.icredit;
        column.Width = Unit.Percentage(12);
        column.EditorProperties().TextBox(textBox =>
        {
            textBox.DisplayFormatString = "N";
        });
    });

    settings.Columns.Add(column =>
    {
        column.FieldName = "FDebit";
        column.Caption = IWSLocalResource.fdebit;
        column.Width = Unit.Percentage(12);
        column.EditorProperties().TextBox(textBox =>
        {
            textBox.DisplayFormatString = "N";
        });
    });
    settings.Columns.Add(column =>
    {
        column.FieldName = "FCredit";
        column.Caption = IWSLocalResource.fcredit;
        column.Width = Unit.Percentage(12);
        column.EditorProperties().TextBox(textBox =>
        {
            textBox.DisplayFormatString = "N";
        });
    });

    //settings.Columns.Add(column =>
    //{
    //    column.FieldName = "InitialBalance";
    //    column.Caption = IWSLocalResource.FinalBalance;
    //    column.Width = Unit.Percentage(12);
    //    column.EditorProperties().TextBox(textBox =>
    //    {
    //        textBox.DisplayFormatString = "N";
    //    });
    //});
    //settings.Columns.Add(column =>
    //{
    //    column.FieldName = "FinalBalance";
    //    column.Caption = IWSLocalResource.InitialBalance;
    //    column.Width = Unit.Percentage(12);
    //    column.EditorProperties().TextBox(textBox =>
    //    {
    //        textBox.DisplayFormatString = "N";
    //    });
    //});

    settings.Columns.Add(column =>
    {
        column.FieldName = "Currency";
        column.Caption = IWSLocalResource.Currency;
        column.Width = Unit.Percentage(12);
    });

    if (ViewData["GenericError"] != null)
    {
        settings.Settings.ShowFooter = true;
        settings.SetFooterRowTemplateContent(c =>
        {
            Html.ViewContext.Writer.Write(ViewData["GenericError"]);
        });
    }

}).Bind(Model).GetHtml()

