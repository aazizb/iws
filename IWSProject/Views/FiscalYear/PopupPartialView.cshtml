
@using IWSProject.Content
@model System.Collections.IEnumerable
<script type="text/javascript">
    function OnBeginCallback(s, e) {
        e.customArgs["cpCStart"] = CStart.GetValue();
        e.customArgs["cpCEnd"] = CEnd.GetValue();
        e.customArgs["cpOStart"] = OStart.GetValue();
        e.customArgs["cpOEnd"] = OEnd.GetValue();
        e.customArgs["cpNStart"] = NStart.GetValue();
        e.customArgs["cpNEnd"] = NEnd.GetValue();
    }
    CStart.GetInputElement().readOnly = true;
    CEnd.GetInputElement().readOnly = true;
    OStart.GetInputElement().readOnly = true;
    OEnd.GetInputElement().readOnly = true;
</script>

@*@{
        ViewBag.Title = IWSLocalResource.FiscalYear;
    }*@
@*@Html.DevExpress().PopupControl(settings =>
    {
        #region Properties
        settings.Name = "pcFiscalYear";
        settings.HeaderText = IWSLocalResource.FiscalYear;
        settings.AllowResize = true;
        settings.ShowHeader = true;
        settings.Modal = true;
        settings.ShowOnPageLoad = true;
        settings.AllowDragging = true;
        settings.CloseAction = CloseAction.OuterMouseClick;
        settings.CloseOnEscape = true;
        settings.ShowCloseButton = true;
        settings.PopupHorizontalAlign = PopupHorizontalAlign.WindowCenter;
        settings.PopupVerticalAlign = PopupVerticalAlign.WindowCenter;
        #endregion

        settings.SetContent(() =>
        {
            Html.RenderPartial("FormLayoutPartial", Model);
            //@Html.RenderPartial("CallbackPanel");
        });
    }).GetHtml()*@

@Html.DevExpress().PopupControl(settings => {
    settings.Name = "popup";
    settings.Modal = true;
    settings.ShowOnPageLoad = true;
    settings.HeaderText = "Equipment Builder";
    //settings.CallbackRouteValues = new { Controller = "Default", Action = "LoadOnDemandPartial" };
    settings.LoadContentViaCallback = LoadContentViaCallback.OnPageLoad;
    settings.Width = System.Web.UI.WebControls.Unit.Pixel(900);
    settings.Height = System.Web.UI.WebControls.Unit.Pixel(400);
    settings.PopupHorizontalAlign = PopupHorizontalAlign.WindowCenter;
    settings.PopupVerticalAlign = PopupVerticalAlign.WindowCenter;

    settings.SetContent(() => {

        @Html.DevExpress().PageControl(pageControl =>
        {

            pageControl.Name = "EquipmentBuilder";
            pageControl.Styles.ActiveTab.Font.Bold = true;

            pageControl.TabPages.Add("Edit Manufacturers").SetContent(() =>
            {
                @Html.RenderPartial("GridViewPartialView", Model);
            });
        }).Render();

    });
}).GetHtml()